### device-service

stack: golang, PostgreSQL

##### Что делает:
- сканер переодически проверяет входную директорию на наличие **.tsv** файлов
- файлы содержат записи о девайсах
  - файлы парсятся, данные записываются в БД
  - создается "отчет" в виде **.docx** файла по каждому девайсу и записывается в выходную директорию
- сервер предоставляет http-api (1 эндпоинт) c возможностью пагинации, отдающий данные по конкретному девайсу

##### Конфиг позволяет настраивать:
- параметры подключения к БД
- входную/выходную директорию сканера
- частоту рескана файловой системы


_**Старался минимизировать использование сторонних библиотек!**_


##### Как запустить:
(к сожалению пока не разобрался с миграциями базы внутри контейнера, так что будем мучаться без compose-файла...)

1. создать в PostgreSQL базу данных, запустить файл `migrations/up.sql`
2. настроить конфиг своими параметрами
3. заполнить входную директорию данными
4. сделать волшебный `go run cmd/main.go` ;)

можно проверить работоспособность сервера с помощью курла:
```bash
$ curl -i --header "Content-Type: application/json" \
--request GET \
--data '{"limit": 20, "offset": 0, "unit_guid": "insert unit guid here!"}' \
http://localhost:8080/devices
```




если честно, не нашел что-то, что можно потестить не мокая базу...
поэтому код тестировать только как настоящие мужчины - _**В ПРОДЕ!!!**_
